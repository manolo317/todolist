<div class="card-block">
  <h2 class="card-title text-center">TODO</h2>
  <app-loading *ngIf="loading"></app-loading>
</div>

<ng-template [ngIf]="utils.isLoaded(loading)">

  <!--<ng-template [ngIf]="todos">-->

    <!--&lt;!&ndash; No RSVP yet &ndash;&gt;-->
    <!--<div *ngIf="!userRsvp" class="card-block">-->
      <!--<p class="lead">Fill out the form below to respond:</p>-->
      <!--&lt;!&ndash; @TODO: RSVP form (add new RSVP) will go here &ndash;&gt;-->
    <!--</div>-->
  <!--</ng-template>-->

  <!-- All RSVPs -->

  <section class="allRsvps">
    <div class="card-block">
      <p *ngIf="!todos.length" class="lead">There are currently no TODOs for this list.</p>
      <p *ngIf="todos.length" class="lead">There are currently {{utils.displayCount(todos.length)}} for this list.</p>
    </div>

    <ul *ngFor="let todo of todos" class="list-group list-group-flush todos">
      <li class="list-group-item small">
        <div class="block">
          <span class="badge"><input type="checkbox" [checked]="todo.done" (change)="onCheck(todo, $event);"></span>
          <span>{{todo.title}}<button class="delete" (click)="deleteTodo(todo);">x</button></span>
        </div>
        <div class="block">
          <h4>Comment</h4>
          <input #comment (keyup.enter)="onEnterComment(todo, comment.value);"  value="{{todo.comments}}">
        </div>
      </li>
    </ul>
  </section>
  <div>
    <label>New todo:</label>
    <input #newTodo
           (keyup.enter)="addTodo(newTodo.value); newTodo.value=''"
           (blur)="addTodo(newTodo.value); newTodo.value=''"/>
    <button (click)="addTodo(newTodo.value); newTodo.value=''">
      Add
    </button>
  </div>

  <!-- Error loading RSVPs -->
  <div *ngIf="error" class="card-block">
    <p class="alert alert-danger">
      <strong>Oops!</strong> There was an error retrieving TODOs for this list.
    </p>
  </div>
</ng-template>

<!-- Footer showing # of total attending guests -->
<!--<div class="card-footer text-right">-->
  <!--<small *ngIf="totalAttending >= 0" class="text-muted">{{utils.displayCount(totalAttending)}} {{footerTense}}</small>-->
<!--</div>-->
